---
layout: post
title:  "네트워크 계층 (IP)"
date:   2024-06-08 14:08:00 +0900
categories: 이론&nbsp;-&nbsp;네트워크
published: false
---

### 프로토콜의 이해

- `프로토콜`
    - 서로 다른 시스템에 있는 개체 간에 성공적으로 데이터를 전송하는 통신 규약
    - 네트워크에서 통신하려는 두 시스템 간에 무엇을, 언제, 어떻게 통신할 것인지 미리 정해놓은 약속
    - 시스템의 차이로 인해 통신이 되지 않는 문제를 예방하기 위해 정의한 표준 규약
- 프로토콜은 계층적 구조로 정의되고 각 계층의 역할을 구분한다.
- 프로토콜은 시스템 간의 통신과 관련된 복잡한 상호 작용을 세분하여 계층화한 것이다.
    - 이해하기 쉽다.
    - 각 계층 간 표준 인터페이스가 정의되어 있어 이 표준만 따른면 다른 업체의 시스템과도 호환이 가능하다.

### 인터넷 표준 프로토콜

- `TCP/IP`는 인터넷에서 컴퓨터 간의 통신이 가능하도록 표준화하여 채택한 통신 규약이다.
- TCP/IP는 네트워크와 네트워크를 연결하는 데 사용하는 프로토콜이다.
- TCP/IP는 인터넷의 두 호스트 간 데이터 흐름의 정확성을 보장하는 프로토콜이다.
- TCP/IP는 전송 제어 프로토콜인 TCP와 인터넷 프로토콜인 IP를 의미한다.
- 인터넷에서 사용하는 응용 프로그램 대부분은 TCP/IP를 이용하여 데이터를 교환한다.
- 일반적으로 TCP/IP는 TCP와 IP뿐만 아니라 FTP(파일 전송), 텔넷(원격 로그인), SMTP(이메일) 등 상위 응용 계층의 프로토콜도 포함된 개념이다.
    - 즉, TCP/IP는 인터넷에 접속하는 프로토콜 중에서 가장 중요한 기능을 하는 TCP와 IP 또는 여러 프로토콜의 집할을 말한다.
- TCP/IP를 지원하는 소프트웨어만 있으면 아무런 문제 없이 다른 기종의 컴퓨터와 통신할 수 있다.
- 인터넷에 연결된 컴퓨터는 `호스트`라고 부른다.
- 호스트는 데이터를 패킷이라는 단위로 분할하여 전송한다.
- 아주 긴 데이터를 전송하는 경우, TCP/IP는 데이터를 여러 개의 패킷으로 분할하여  
    각 패킷에 데이터의 내용뿐만 아니라 패킷의 일련번호와 수신 측의 주소 등 다양한 정보를 추가하여 전송한다.
- TCP는 전송된 패킷에 오류가 발생하면 재전송을 요청하고 재전송된 패킷에 오류가 없으면 원래의 데이터로 재결합한다.
    - 요약 : 데이터의 흐름을 제어하거나 데이터가 정확한지 검사
- IP는 패킷으로 변환된 데이터를 네트워크를 통해 멀리 떨어진 호스트에 보낸다.
    - 요약 : 데이터 패킷을 전송

#### TCP/IP 프로토콜의 구조

- TCP/IP 프로토콜은 네트워크 접속 계층(1계층), 네트워크 계층(2계층), 전송 계층(3계층), 응용 계층(4계층)으로 구분된다.
- TCP/IP 계층 구조의 특정 계층에서 실행되는 프로토콜은 상위 계층에서 실행된느 프로세스가 된다.

##### 네트워크 접속 계층 (1계층)

- TCP/IP의 경우 하위 계층인 물리 계층과 데이터 링크 계층을 특별히 정의하지 않았다.
- 단지 모든 표준 및 임의 네트워크를 지원할 수 있도록 하고 있다.
- 네트워크 접속 계층은 하드웨어적인 요소와 관련된 것을 지원하는 계층이다.
    - 예시 : 운영체제의 네트워크 카드와 디바이스 드라이버 등 
- 해당하는 프로토콜의 종류
    - 이더넷
    - 802.11x
    - MAC/LLC
    - SLIP
    - PPP
- 송신 측 컴퓨터에는 상위 계층으로부터 전달받은 패킷에 물리 주소인 MAC을 추가해서  
    프레임을 만들어 하위 계층인 물리 계층에 전달한다.
- 수신 측 컴퓨터에서는 데이터 링크 계층에서 추가한 헤더를 제거하고 상위 계층인 네트워크 계층에 전달한다.
    - 이 때 프레임의 크기는 네트워크 토폴로지가 결정한다.

##### 네트워크 계층 (2계층)

- `인터넷 계층`라고도 부른다.
- 네트워크의 패킷 전송을 제어한다.
- 해당하는 프로토콜의 종류
    - IP
    - ARP
    - ICMP
    - IGMP
- IP는 네트워크의 주소 체계를 관리하고, 데이터그램을 정의하며, 전송에 필요한 경로를 결정한다.
- 네트워크 계층의 역할은 데이터그램을 정확한 수신지로 전송하는 것이다.
- `데이터그램`
    - IP 프로토콜에서 다루는 패킷 데이터
    - 송신지 주소, 수신지 주소, 보내는 데이터, 몇 가지 제어 필드 등이 들어있다.
- 송신 측 컴퓨터에서는 상위 계층으로 전달받은 패킷에 논리 주소인 IP 주소를 포함한 헤더를 추가하여  
    하위 계층인 네트워크 접속 계층에 전달한다.
- 수신 측 컴퓨터에서는 하위 계층으로부터 전달받은 프레임의 헤더 정보를 확인한 후  
송신 측 컴퓨터의 네트워크 계층에서 추가한 헤더를 제거하고 상위 계층인 전송 계층에 전달한다.

##### 전송 계층 (3계층)

- 상위 계층에서 볼 때 데이터 전송을 담당하는 계층
- TCP와 UDP 프로토콜을 사용한다.
- 네트워크 양단의 송수신 호스트 간에 신뢰성 있는 전송 기능을 제공한다.
- 전송 계층의 송신 측 컴퓨터에서는 상위 계층으로부터 전달받은 데이터를  
효율적으로 전송하기 위해 패킷 단위로 분해한다.
- 전송 계층의 수신 측 컴퓨터에서는 하위 계층으로부터 전달받은 패킷을 원래의 데이터로 재결합한다.


### 네트워크 게층
### IPv4
### 라우터
### IPv6
### 네트워크 계층 프로토콜

### 출처

- 네트워크 개론 3판 (전혜진 지음)